# Contract Clause Analyzer

This simple Python tool extracts text from a contract PDF and lets you query or automatically analyze
risk areas using an Ollama LLM model.

It uses:

- `PyMuPDF` to open and read PDF files
- `ollama` Python client to communicate with a local Ollama inference server
- `rich` for beautiful console prompts and tables
- `argparse` / `rich.prompt` for command-line interaction

## Features

1. **Text extraction**: Pulls all text from each page of a provided PDF.
2. **Free-form Q&A**: Ask naturalâ€‘language questions about the contract and get
   responses generated by the LLM.
3. **Checklist analysis**: (optional) run a predefined checklist of risk areas
   â€“ termination, liability cap, IP ownership, and jurisdiction â€“ returning a
   JSON summary of issues and risk levels.
4. **Interactive shell**: After loading a document you can repeatedly query it
   until you type `exit`.

## Requirements

- Python 3.9+ (tested on Windows) 
- A running [Ollama](https://ollama.com/) server with the `gemma3:4b` model
  downloaded and available locally. (Change the model name in the source if you
  prefer another model.)
- The following Python packages:

```text
pymupdf
ollama
rich
```

You can install them with pip:

```bash
pip install pymupdf ollama rich
```

Make sure the Ollama CLI is installed and configured; the Python client uses the
same environment variables as the CLI (e.g. `OLLAMA_URL`).

## Usage

```bash
python ContractAnalyizer.py [path/to/contract.pdf] [--checklist]
```

- If you omit the path, you will be prompted to type one interactively.
- `--checklist` runs the standard risk checklist immediately after text
  extraction and prints a table with summaries.

Once the document is loaded you can type questions about the contract to the
prompt. Example:

```
Enter your question about the contract (or type 'exit' to quit):
What is the termination notice period?
```

The script will display the answer generated by the model.

### Example

```bash
python ContractAnalyizer.py sample.pdf --checklist
```

You will see output similar to:

```
Extracting text from sample.pdf...
Text extracted successfully. Now you can ask questions about the contract.
Running standard checklist...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Risk Area        â”ƒ Summary                      â”ƒ Risk Level    â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ Termination      â”‚ ...                          â”‚ low          â”‚
â”‚ Liability cap    â”‚ ...                          â”‚ medium       â”‚
â”‚ Ip ownership     â”‚ ...                          â”‚ high         â”‚
â”‚ Jurisdiction     â”‚ ...                          â”‚ low          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

and then you can continue asking questions interactively.

## Notes

- The JSON parsing in `run_checklist` may fail if the model returns malformed
  JSON; the raw response is printed for inspection.
- You can modify the heuristic checklist or prompt text directly in
  `ContractAnalyizer.py`.
- This repository contains only a single script; you may adapt or extend it as
  needed for larger workflows or GUI applications.

---

Happy analyzing! ğŸ¯
